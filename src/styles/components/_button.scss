@use '../abstracts' as dc;

.dc-btn {
  font-family: var(--dc-font-base);
  font-size: dc.$font-size-sm;
  font-weight: dc.$font-weight-medium;
  line-height: dc.$leading-default;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: auto;
  min-width: var(--dc-btn-height);
  max-width: 100%;
  min-height: var(--dc-btn-height);
  padding: 0 dc.$gap-3x;
  cursor: pointer;
  user-select: none;
  transition: dc.$transition-quick;
  transition-property: opacity, background-color;
  text-decoration: none;
  letter-spacing: dc.$tracking-tight;
  color: var(--dc-btn-text-color);
  border: 1px solid var(--dc-btn-border-color);
  border-radius: dc.$border-radius-md;
  background: var(--dc-btn-bg);
  box-shadow: 0 1px 2px #{rgba(dc.$black, dc.$opacity-5)};
}

.dc-btn:focus {
  border-color: var(--dc-btn-border-color-focus);
  outline: none;
  box-shadow: (
    0 1px 2px #{rgba(dc.$black, dc.$opacity-5)},
    0 0 0 3px var(--dc-btn-focus-ring-color)
  );
}

.dc-btn:not(:disabled):hover {
  background: var(--dc-btn-bg-hover);
}

.dc-btn:active:enabled {
  background: var(--dc-btn-bg-active);
}

.dc-btn:disabled {
  cursor: not-allowed;
  opacity: var(--dc-disabled-state-opacity);
  box-shadow: none;
}

.dc-btn > * + * {
  margin-left: dc.$gap-2x;
}

.dc-btn_size_xs,
.dc-btn_size_sm {
  font-size: dc.$font-size-xs;

  border-radius: dc.$border-radius-sm;
  --dc-btn-height: var(--dc-control-xs-h);
}

.dc-btn_size_xs {
  padding-right: dc.$gap-2x;
  padding-left: dc.$gap-2x;
}

.dc-btn_size_sm {
  --dc-btn-height: var(--dc-control-sm-h);
}

.dc-btn_size_lg {
  font-size: dc.$font-size-base;

  padding-right: dc.$gap-4x;
  padding-left: dc.$gap-4x;
  border-radius: dc.$border-radius-md;
  --dc-btn-height: var(--dc-control-lg-h);
}

.dc-btn_secondary,
.dc-btn_minimal {
  border-color: transparent;
  box-shadow: none;
}

.dc-btn_secondary:focus,
.dc-btn_minimal:focus {
  box-shadow: 0 0 0 3px var(--dc-btn-focus-ring-color);
}

.dc-btn_secondary:disabled,
.dc-btn_minimal:disabled {
  box-shadow: none;
}

.dc-btn_secondary {
  --dc-btn-text-color: var(--dc-btn-secondary-text-color);
  --dc-btn-bg: var(--dc-btn-secondary-bg);
  --dc-btn-bg-hover: var(--dc-btn-secondary-bg-hover);
  --dc-btn-bg-active: var(--dc-btn-secondary-bg-active);
  --dc-btn-border-color: var(--dc-btn-secondary-border-color);
  --dc-btn-border-color-focus: var(--dc-btn-secondary-border-color-focus);
  --dc-btn-focus-ring-color: var(--dc-btn-secondary-focus-ring-color);
}

.dc-btn_minimal {
  --dc-btn-text-color: var(--dc-btn-minimal-text-color);
  --dc-btn-bg: var(--dc-btn-minimal-bg);
  --dc-btn-bg-hover: var(--dc-btn-minimal-bg-hover);
  --dc-btn-bg-active: var(--dc-btn-minimal-bg-active);
  --dc-btn-border-color: var(--dc-btn-minimal-border-color);
  --dc-btn-border-color-focus: var(--dc-btn-minimal-border-color-focus);
  --dc-btn-focus-ring-color: var(--dc-btn-minimal-focus-ring-color);
}

.dc-btn_primary {
  --dc-btn-text-color: var(--dc-btn-primary-text-color);
  --dc-btn-bg: var(--dc-btn-primary-bg);
  --dc-btn-bg-hover: var(--dc-btn-primary-bg-hover);
  --dc-btn-bg-active: var(--dc-btn-primary-bg-active);
  --dc-btn-border-color: var(--dc-btn-primary-border-color);
  --dc-btn-border-color-focus: var(--dc-btn-primary-border-color-focus);
  --dc-btn-focus-ring-color: var(--dc-btn-primary-focus-ring-color);
}

.dc-btn_danger {
  --dc-btn-text-color: var(--dc-btn-danger-text-color);
  --dc-btn-bg: var(--dc-btn-danger-bg);
  --dc-btn-bg-hover: var(--dc-btn-danger-bg-hover);
  --dc-btn-bg-active: var(--dc-btn-danger-bg-active);
  --dc-btn-border-color: var(--dc-btn-danger-border-color);
  --dc-btn-border-color-focus: var(--dc-btn-danger-border-color-focus);
  --dc-btn-focus-ring-color: var(--dc-btn-danger-focus-ring-color);
}

.dc-btn_success {
  --dc-btn-text-color: var(--dc-btn-success-text-color);
  --dc-btn-bg: var(--dc-btn-success-bg);
  --dc-btn-bg-hover: var(--dc-btn-success-bg-hover);
  --dc-btn-bg-active: var(--dc-btn-success-bg-active);
  --dc-btn-border-color: var(--dc-btn-success-border-color);
  --dc-btn-border-color-focus: var(--dc-btn-success-border-color-focus);
  --dc-btn-focus-ring-color: var(--dc-btn-success-focus-ring-color);
}

.dc-btn__icon {
  display: inline-flex;
  flex: 0 0 auto;
}

.dc-btn__text {
  display: flex;
  align-items: center;
  justify-content: center;
}

.dc-btn_full-width {
  width: 100%;
}

.dc-btn_circle,
.dc-btn_no-padding {
  padding-right: 0;
  padding-left: 0;
}

.dc-btn_rounded {
  padding-right: calc(var(--dc-btn-height) / 2);
  padding-left: calc(var(--dc-btn-height) / 2);
  border-radius: calc(var(--dc-btn-height) / 2);
}

.dc-btn_circle {
  border-radius: 50%;
}

.dc-btn_loading {
  pointer-events: none;
}

.dc-btn_loading > * {
  opacity: 0;
}

.dc-btn_loading > .dc-btn__spinner {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  margin: 0;
  opacity: 1;
}
